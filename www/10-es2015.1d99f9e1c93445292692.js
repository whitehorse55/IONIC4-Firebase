(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"y+5R":function(l,n,u){"use strict";u.r(n);var e=u("8Y7J"),r=u("mrSG"),i=u("s7LF"),t=u("ZZ/e"),a=u("jfHL");class o{constructor(l,n,u,e,r,i){this.navCtrl=l,this.toastCtrl=n,this.alertCtrl=u,this.loadingCtrl=e,this.formBuilder=r,this.userService=i,this.validationMessages={username:[{type:"required",message:"Username is required"}],email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 5 characters long."}]}}ngOnInit(){this.onUserSignupForm=this.formBuilder.group({username:[null,i.l.compose([i.l.required])],email:[null,i.l.compose([i.l.required,i.l.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])],password:[null,i.l.compose([i.l.required,i.l.minLength(5)])]})}signup(){const l=this.onUserSignupForm.value;this.user={name:l.username,email:l.email,type:"person",avatar:"",sectors:[],city:"",description:"",phone1:"",phone2:""},this.userService.registerUser(l).then(n=>{console.log(n.user.uid),this.userService.addUser(this.user,n.user.uid),this.userService.loginUser(l),this.navCtrl.navigateRoot("/sectors")},l=>r.__awaiter(this,void 0,void 0,function*(){console.log(l);const n=yield this.alertCtrl.create({header:"Warning",subHeader:"Signup Failed",message:l.message,buttons:["OK"]});yield n.present()}))}}class s{}var g=u("pMnS"),b=u("SVse"),d=u("oBZk"),m=e.pb({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:linear-gradient(135deg, var(--ion-color-primary-contrast), var(--ion-color-primary))}ion-item[_ngcontent-%COMP%]{border-radius:5px;margin-left:20px;margin-right:20px;margin-top:10px}ion-item[_ngcontent-%COMP%]:first-child{margin-top:10vh}ion-button[_ngcontent-%COMP%]{margin:20px}ion-item.item[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.4);margin-bottom:1px}ion-item.item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:10%;color:rgba(0,0,0,.6);font-size:1.2em}.validation-errors[_ngcontent-%COMP%]{margin:10px 20px;color:#fff}"]],data:{}});function c(l){return e.Ib(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),e.Hb(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.message)})}function p(l){return e.Ib(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,c)),e.qb(2,16384,null,0,b.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(0,null,null,0))],function(l,n){var u=n.component;l(n,2,0,u.onUserSignupForm.get("username").hasError(n.context.$implicit.type)&&(u.onUserSignupForm.get("username").dirty||u.onUserSignupForm.get("username").touched))},null)}function h(l){return e.Ib(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),e.Hb(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.message)})}function f(l){return e.Ib(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,h)),e.qb(2,16384,null,0,b.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(0,null,null,0))],function(l,n){var u=n.component;l(n,2,0,u.onUserSignupForm.get("email").hasError(n.context.$implicit.type)&&(u.onUserSignupForm.get("email").dirty||u.onUserSignupForm.get("email").touched))},null)}function v(l){return e.Ib(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),e.Hb(1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.message)})}function C(l){return e.Ib(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,v)),e.qb(2,16384,null,0,b.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(0,null,null,0))],function(l,n){var u=n.component;l(n,2,0,u.onUserSignupForm.get("password").hasError(n.context.$implicit.type)&&(u.onUserSignupForm.get("password").dirty||u.onUserSignupForm.get("password").touched))},null)}function q(l){return e.Ib(0,[(l()(),e.rb(0,0,null,null,53,"ion-content",[],null,null,null,d.O,d.j)),e.qb(1,49152,null,0,t.t,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,51,"form",[["class","list-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var r=!0,i=l.component;return"submit"===n&&(r=!1!==e.Db(l,4).onSubmit(u)&&r),"reset"===n&&(r=!1!==e.Db(l,4).onReset()&&r),"ngSubmit"===n&&(r=!1!==i.signup()&&r),r},null,null)),e.qb(3,16384,null,0,i.p,[],null,null),e.qb(4,540672,null,0,i.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Eb(2048,null,i.a,null,[i.d]),e.qb(6,16384,null,0,i.i,[[4,i.a]],null,null),(l()(),e.rb(7,0,null,null,10,"ion-item",[["no-padding",""]],null,null,null,d.V,d.q)),e.qb(8,49152,null,0,t.G,[e.h,e.k,e.x],null,null),(l()(),e.rb(9,0,null,0,1,"ion-icon",[["item-start",""],["name","person"]],null,null,null,d.S,d.n)),e.qb(10,49152,null,0,t.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(11,0,null,0,6,"ion-input",[["formControlName","username"],["item-end",""],["placeholder","Username"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var r=!0;return"ionBlur"===n&&(r=!1!==e.Db(l,12)._handleBlurEvent(u.target)&&r),"ionChange"===n&&(r=!1!==e.Db(l,12)._handleInputEvent(u.target)&&r),r},d.U,d.p)),e.qb(12,16384,null,0,t.Mb,[e.k],null,null),e.Eb(1024,null,i.f,function(l){return[l]},[t.Mb]),e.qb(14,671744,null,0,i.c,[[3,i.a],[8,null],[8,null],[6,i.f],[2,i.o]],{name:[0,"name"]},null),e.Eb(2048,null,i.g,null,[i.c]),e.qb(16,16384,null,0,i.h,[[4,i.g]],null,null),e.qb(17,49152,null,0,t.F,[e.h,e.k,e.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.rb(18,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,p)),e.qb(20,278528,null,0,b.h,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(21,0,null,null,10,"ion-item",[["no-padding",""]],null,null,null,d.V,d.q)),e.qb(22,49152,null,0,t.G,[e.h,e.k,e.x],null,null),(l()(),e.rb(23,0,null,0,1,"ion-icon",[["item-start",""],["name","mail"]],null,null,null,d.S,d.n)),e.qb(24,49152,null,0,t.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(25,0,null,0,6,"ion-input",[["formControlName","email"],["item-end",""],["placeholder","Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var r=!0;return"ionBlur"===n&&(r=!1!==e.Db(l,26)._handleBlurEvent(u.target)&&r),"ionChange"===n&&(r=!1!==e.Db(l,26)._handleInputEvent(u.target)&&r),r},d.U,d.p)),e.qb(26,16384,null,0,t.Mb,[e.k],null,null),e.Eb(1024,null,i.f,function(l){return[l]},[t.Mb]),e.qb(28,671744,null,0,i.c,[[3,i.a],[8,null],[8,null],[6,i.f],[2,i.o]],{name:[0,"name"]},null),e.Eb(2048,null,i.g,null,[i.c]),e.qb(30,16384,null,0,i.h,[[4,i.g]],null,null),e.qb(31,49152,null,0,t.F,[e.h,e.k,e.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.rb(32,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,f)),e.qb(34,278528,null,0,b.h,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(35,0,null,null,10,"ion-item",[["no-padding",""]],null,null,null,d.V,d.q)),e.qb(36,49152,null,0,t.G,[e.h,e.k,e.x],null,null),(l()(),e.rb(37,0,null,0,1,"ion-icon",[["item-start",""],["name","lock"]],null,null,null,d.S,d.n)),e.qb(38,49152,null,0,t.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(39,0,null,0,6,"ion-input",[["formControlName","password"],["item-end",""],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var r=!0;return"ionBlur"===n&&(r=!1!==e.Db(l,40)._handleBlurEvent(u.target)&&r),"ionChange"===n&&(r=!1!==e.Db(l,40)._handleInputEvent(u.target)&&r),r},d.U,d.p)),e.qb(40,16384,null,0,t.Mb,[e.k],null,null),e.Eb(1024,null,i.f,function(l){return[l]},[t.Mb]),e.qb(42,671744,null,0,i.c,[[3,i.a],[8,null],[8,null],[6,i.f],[2,i.o]],{name:[0,"name"]},null),e.Eb(2048,null,i.g,null,[i.c]),e.qb(44,16384,null,0,i.h,[[4,i.g]],null,null),e.qb(45,49152,null,0,t.F,[e.h,e.k,e.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.rb(46,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,C)),e.qb(48,278528,null,0,b.h,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(49,0,null,null,4,"ion-button",[["color","dark"],["expand","full"],["icon-left",""],["shape","round"],["size","medium"],["tappable",""],["type","submit"]],null,null,null,d.J,d.e)),e.qb(50,49152,null,0,t.j,[e.h,e.k,e.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],shape:[3,"shape"],size:[4,"size"],type:[5,"type"]},null),(l()(),e.rb(51,0,null,0,1,"ion-icon",[["name","log-in"]],null,null,null,d.S,d.n)),e.qb(52,49152,null,0,t.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.Hb(-1,0,[" Signup "]))],function(l,n){var u=n.component;l(n,4,0,u.onUserSignupForm),l(n,10,0,"person"),l(n,14,0,"username"),l(n,17,0,"Username","email"),l(n,20,0,u.validationMessages.username),l(n,24,0,"mail"),l(n,28,0,"email"),l(n,31,0,"Email","email"),l(n,34,0,u.validationMessages.email),l(n,38,0,"lock"),l(n,42,0,"password"),l(n,45,0,"Password","password"),l(n,48,0,u.validationMessages.password),l(n,50,0,"dark",!u.onUserSignupForm.valid,"full","round","medium","submit"),l(n,52,0,"log-in")},function(l,n){l(n,2,0,e.Db(n,6).ngClassUntouched,e.Db(n,6).ngClassTouched,e.Db(n,6).ngClassPristine,e.Db(n,6).ngClassDirty,e.Db(n,6).ngClassValid,e.Db(n,6).ngClassInvalid,e.Db(n,6).ngClassPending),l(n,11,0,e.Db(n,16).ngClassUntouched,e.Db(n,16).ngClassTouched,e.Db(n,16).ngClassPristine,e.Db(n,16).ngClassDirty,e.Db(n,16).ngClassValid,e.Db(n,16).ngClassInvalid,e.Db(n,16).ngClassPending),l(n,25,0,e.Db(n,30).ngClassUntouched,e.Db(n,30).ngClassTouched,e.Db(n,30).ngClassPristine,e.Db(n,30).ngClassDirty,e.Db(n,30).ngClassValid,e.Db(n,30).ngClassInvalid,e.Db(n,30).ngClassPending),l(n,39,0,e.Db(n,44).ngClassUntouched,e.Db(n,44).ngClassTouched,e.Db(n,44).ngClassPristine,e.Db(n,44).ngClassDirty,e.Db(n,44).ngClassValid,e.Db(n,44).ngClassInvalid,e.Db(n,44).ngClassPending)})}function y(l){return e.Ib(0,[(l()(),e.rb(0,0,null,null,1,"app-usersignup",[],null,null,null,q,m)),e.qb(1,114688,null,0,o,[t.Hb,t.Nb,t.a,t.Eb,i.b,a.a],null,null)],function(l,n){l(n,1,0)},null)}var D=e.nb("app-usersignup",o,y,{},{},[]),B=u("iInd");u.d(n,"UsersignupPageModuleNgFactory",function(){return S});var S=e.ob(s,[],function(l){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[g.a,D]],[3,e.j],e.v]),e.Bb(4608,b.k,b.j,[e.s,[2,b.q]]),e.Bb(4608,i.n,i.n,[]),e.Bb(4608,t.b,t.b,[e.x,e.g]),e.Bb(4608,t.Gb,t.Gb,[t.b,e.j,e.p]),e.Bb(4608,t.Jb,t.Jb,[t.b,e.j,e.p]),e.Bb(4608,i.b,i.b,[]),e.Bb(1073742336,b.b,b.b,[]),e.Bb(1073742336,i.m,i.m,[]),e.Bb(1073742336,i.e,i.e,[]),e.Bb(1073742336,t.Cb,t.Cb,[]),e.Bb(1073742336,i.k,i.k,[]),e.Bb(1073742336,B.o,B.o,[[2,B.t],[2,B.m]]),e.Bb(1073742336,s,s,[]),e.Bb(1024,B.k,function(){return[[{path:"",component:o}]]},[])])})}}]);