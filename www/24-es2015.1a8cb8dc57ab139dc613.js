(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{HDkT:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),o=t("mrSG"),i=t("jfHL"),u=t("t4gJ"),a=t("oONI"),r=t("ZZ/e");class c{constructor(n,l,t,e,o,i){this.offerService=n,this.trendingService=l,this.userService=t,this.toastCtrl=e,this.route=o,this.router=i,this.searchKey="",this.filterdOffer=[],this.route.queryParams.subscribe(n=>{this.router.getCurrentNavigation().extras.state&&(this.companyData=this.router.getCurrentNavigation().extras.state.companyData,this.loadOfferList(this.companyData),this.checkFollow(this.companyData.id))}),this.userId=t.getAuthUser().uid,this.isFollow=!1,this.currentFollowId=""}ngOnInit(){}loadOfferList(n){this.offerService.getOffersByCompany(n.id).subscribe(n=>{this.offerList=n})}checkFollow(n){this.trendingService.isFollow(this.userId,n).subscribe(n=>{n.length>0?(this.isFollow=!0,this.currentFollowId=n[0].id):this.isFollow=!1})}changeFollow(){const n={userId:this.userId,companyId:this.companyData.id};this.isFollow?(this.trendingService.deleteFollow(this.currentFollowId),this.showToast("Unfollowed this trade.")):(this.trendingService.addFollow(n),this.showToast("Followed this trade."))}showToast(n){return o.__awaiter(this,void 0,void 0,function*(){(yield this.toastCtrl.create({showCloseButton:!0,message:n,duration:2e3,position:"bottom"})).present()})}searchItems(){this.filterdOffer=this.offerList.filter(n=>n.companyName.toLowerCase().indexOf(this.searchKey.toLowerCase())>-1||n.description.toLowerCase().indexOf(this.searchKey.toLowerCase())>-1)}}class s{}var b=t("pMnS"),g=t("oBZk"),d=t("SVse"),h=t("XEv7"),f=t("IkFj"),m=t("s7LF"),p=t("iInd"),C=e.pb({encapsulation:0,styles:[["ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;display:-webkit-box;display:flex}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:0;text-transform:capitalize;padding:0 .5em;font-size:1.4rem}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin:auto}ion-label[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}ion-item[_ngcontent-%COMP%]{padding:8px}ion-item[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{padding-right:0}ion-item[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:auto 0}ion-item[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .company_details[_ngcontent-%COMP%]{overflow:hidden}ion-item[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:40px}ion-card-content[_ngcontent-%COMP%]{padding:8px}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.company_details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:8px;margin-left:5px}#imageSlide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;margin-left:auto;margin-right:auto}.social-bar[_ngcontent-%COMP%]{margin-bottom:20px}.social-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:0 0}"]],data:{}});function w(n){return e.Ib(0,[(n()(),e.rb(0,0,null,null,1,"ion-icon",[["name","ios-add-circle-outline"],["slot","end"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.changeFollow()&&e),e},g.S,g.n)),e.qb(1,49152,null,0,r.B,[e.h,e.k,e.x],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"ios-add-circle-outline")},null)}function O(n){return e.Ib(0,[(n()(),e.rb(0,0,null,null,1,"ion-icon",[["name","ios-remove-circle-outline"],["slot","end"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.changeFollow()&&e),e},g.S,g.n)),e.qb(1,49152,null,0,r.B,[e.h,e.k,e.x],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"ios-remove-circle-outline")},null)}function M(n){return e.Ib(0,[(n()(),e.rb(0,0,null,null,15,"ion-card",[],null,null,null,g.M,g.g)),e.qb(1,49152,null,0,r.l,[e.h,e.k,e.x],null,null),(n()(),e.rb(2,0,null,0,11,"ion-item",[["no-padding",""]],null,null,null,g.V,g.q)),e.qb(3,49152,null,0,r.G,[e.h,e.k,e.x],null,null),(n()(),e.rb(4,0,null,0,2,"ion-avatar",[],null,null,null,g.G,g.b)),e.qb(5,49152,null,0,r.e,[e.h,e.k,e.x],null,null),(n()(),e.rb(6,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),e.rb(7,0,null,0,2,"div",[["class","company_details"]],null,null,null,null,null)),(n()(),e.rb(8,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Hb(9,null,["",""])),(n()(),e.gb(16777216,null,0,1,null,w)),e.qb(11,16384,null,0,d.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,O)),e.qb(13,16384,null,0,d.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(14,0,null,0,1,"app-trade-item-detail",[],null,null,null,h.b,h.a)),e.qb(15,114688,null,0,f.a,[a.a,i.a],{offer:[0,"offer"]},null)],function(n,l){var t=l.component;n(l,11,0,!t.isFollow),n(l,13,0,t.isFollow),n(l,15,0,l.context.$implicit)},function(n,l){var t=l.component;n(l,6,0,e.vb(1,"",t.companyData.avatar?t.companyData.avatar:"assets/img/app_logo.png","")),n(l,9,0,t.companyData.name)})}function _(n){return e.Ib(0,[(n()(),e.rb(0,0,null,null,15,"ion-header",[],null,null,null,g.R,g.m)),e.qb(1,49152,null,0,r.A,[e.h,e.k,e.x],null,null),(n()(),e.rb(2,0,null,0,13,"ion-toolbar",[],null,null,null,g.jb,g.E)),e.qb(3,49152,null,0,r.Ab,[e.h,e.k,e.x],null,null),(n()(),e.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,g.K,g.f)),e.qb(5,49152,null,0,r.k,[e.h,e.k,e.x],null,null),(n()(),e.rb(6,0,null,0,2,"ion-back-button",[["defaultHref","/home/trade"]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e.Db(n,8).onClick(t)&&o),o},g.H,g.c)),e.qb(7,49152,null,0,r.f,[e.h,e.k,e.x],{defaultHref:[0,"defaultHref"]},null),e.qb(8,16384,null,0,r.g,[[2,r.gb],r.Hb],{defaultHref:[0,"defaultHref"]},null),(n()(),e.rb(9,0,null,0,6,"ion-searchbar",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,t){var o=!0,i=n.component;return"ionBlur"===l&&(o=!1!==e.Db(n,10)._handleBlurEvent(t.target)&&o),"ionChange"===l&&(o=!1!==e.Db(n,10)._handleInputEvent(t.target)&&o),"ngModelChange"===l&&(o=!1!==(i.searchKey=t)&&o),"ionChange"===l&&(o=!1!==i.searchItems()&&o),o},g.Y,g.t)),e.qb(10,16384,null,0,r.Mb,[e.k],null,null),e.Eb(1024,null,m.f,function(n){return[n]},[r.Mb]),e.qb(12,671744,null,0,m.j,[[8,null],[8,null],[8,null],[6,m.f]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,m.g,null,[m.j]),e.qb(14,16384,null,0,m.h,[[4,m.g]],null,null),e.qb(15,49152,null,0,r.ib,[e.h,e.k,e.x],null,null),(n()(),e.rb(16,0,null,null,3,"ion-content",[],null,null,null,g.O,g.j)),e.qb(17,49152,null,0,r.t,[e.h,e.k,e.x],null,null),(n()(),e.gb(16777216,null,0,1,null,M)),e.qb(19,278528,null,0,d.h,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,7,0,"/home/trade"),n(l,8,0,"/home/trade"),n(l,12,0,t.searchKey),n(l,19,0,t.filterdOffer)},function(n,l){n(l,9,0,e.Db(l,14).ngClassUntouched,e.Db(l,14).ngClassTouched,e.Db(l,14).ngClassPristine,e.Db(l,14).ngClassDirty,e.Db(l,14).ngClassValid,e.Db(l,14).ngClassInvalid,e.Db(l,14).ngClassPending)})}function v(n){return e.Ib(0,[(n()(),e.rb(0,0,null,null,1,"app-privatewall",[],null,null,null,_,C)),e.qb(1,114688,null,0,c,[u.a,a.a,i.a,r.Nb,p.a,p.m],null,null)],function(n,l){n(l,1,0)},null)}var P=e.nb("app-privatewall",c,v,{},{},[]),k=t("j1ZV");t.d(l,"PrivatewallPageModuleNgFactory",function(){return y});var y=e.ob(s,[],function(n){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[b.a,P]],[3,e.j],e.v]),e.Bb(4608,d.k,d.j,[e.s,[2,d.q]]),e.Bb(4608,m.n,m.n,[]),e.Bb(4608,r.b,r.b,[e.x,e.g]),e.Bb(4608,r.Gb,r.Gb,[r.b,e.j,e.p]),e.Bb(4608,r.Jb,r.Jb,[r.b,e.j,e.p]),e.Bb(1073742336,d.b,d.b,[]),e.Bb(1073742336,m.m,m.m,[]),e.Bb(1073742336,m.e,m.e,[]),e.Bb(1073742336,r.Cb,r.Cb,[]),e.Bb(1073742336,k.a,k.a,[]),e.Bb(1073742336,p.o,p.o,[[2,p.t],[2,p.m]]),e.Bb(1073742336,s,s,[]),e.Bb(1024,p.k,function(){return[[{path:"",component:c}]]},[])])})}}]);